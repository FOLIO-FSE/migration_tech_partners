{
    "sourceFiles": [
        "https://docs.google.com/spreadsheets/d/1ac95azO1R41_PGkeLhc6uybAKcfpe6XLyd9-F4jqoTo/edit#gid=301923972"
    ],
    "defaultLocationCode": "void",
    "rules": {
        "001": [
            {
                "target": "hrid",
                "description": "The human readable ID",
                "subfield": [],
                "rules": []
            }
        ],
        "004": [
            {
                "target": "instanceId",
                "description": "The instance ID",
                "rules": [
                    {
                        "conditions": [
                            {
                                "type": "set_instance_id_by_map"
                            }
                        ]
                    }
                ]
            }
        ],
        "008": [
            {
                "target": "receiptStatus",
                "description": "The instance ID",
                "rules": [
                    {
                        "conditions": [
                            {
                                "type": "set_receipt_status"
                            }
                        ]
                    }
                ]
            }
        ],
        "506": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "g",
                            "q",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Restriction"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "g",
                            "q",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_note_staff_only_via_indicator"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "538": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "i",
                            "5",
                            "6",
                            "8",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "i",
                            "5",
                            "6",
                            "8",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_note_staff_only_via_indicator"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "541": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "Source of acquisition",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "n",
                            "o",
                            "3",
                            "5",
                            "6",
                            "8"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "Source of acquisition",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Source of acquisition"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "n",
                            "o",
                            "3",
                            "5",
                            "6",
                            "8"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_note_staff_only_via_indicator"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "561": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Provenance"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_note_staff_only_via_indicator"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "562": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Copy Note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "false"
                            }
                        ]
                    }
                ]
            }
        ],
        "563": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Binding"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "u"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "false"
                            }
                        ]
                    }
                ]
            }
        ],
        "583": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Action note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "true"
                            }
                        ]
                    }
                ]
            },
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "i",
                            "j",
                            "k",
                            "l",
                            "n",
                            "o",
                            "u",
                            "x",
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Action note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "i",
                            "j",
                            "k",
                            "l",
                            "n",
                            "o",
                            "u",
                            "x",
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_note_staff_only_via_indicator"
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "843": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "m",
                            "n"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Reproduction"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "3",
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "m",
                            "n"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "false"
                            }
                        ]
                    }
                ]
            }
        ],
        "845": [
            {
                "entity": [
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Restriction"
                                        }
                                    }
                                ]
                            }
                        ],
                        "target": "notes.holdingsNoteTypeId",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "f",
                            "g",
                            "q",
                            "u",
                            "2",
                            "3",
                            "5",
                            "6",
                            "8"
                        ],
                        "description": "Restriction",
                        "applyRulesOnConcatenatedData": true
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period"
                                    }
                                ]
                            }
                        ],
                        "target": "notes.note",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "f",
                            "g",
                            "q",
                            "u",
                            "2",
                            "3",
                            "5",
                            "6",
                            "8"
                        ],
                        "description": "Restriction",
                        "applyRulesOnConcatenatedData": true
                    },
                    {
                        "rules": [
                            {
                                "value": "false",
                                "conditions": []
                            }
                        ],
                        "target": "notes.staffOnly",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "f",
                            "g",
                            "q",
                            "u",
                            "2",
                            "3",
                            "5",
                            "6",
                            "8"
                        ],
                        "description": "If true, determines that the note should not be visible for others than staff"
                    }
                ]
            }
        ],
        "852": [
            {
                "target": "callNumberTypeId",
                "description": "",
                "subfield": [],
                "rules": [
                    {
                        "conditions": [
                            {
                                "type": "set_call_number_type_by_indicator"
                            }
                        ]
                    }
                ]
            },
            {
                "target": "holdingsTypeId",
                "description": "special case? if serv or remo, set electronic as holdingstype",
                "subfield": [
                    "b"
                ],
                "rules": [
                    {
                        "conditions": [
                            {
                                "type": "set_electronic_if_serv_remo"
                            }
                        ]
                    }
                ]
            },
            {
                "target": "permanentLocationId",
                "description": "",
                "subfield": [
                    "b"
                ],
                "rules": [
                    {
                        "conditions": [
                            {
                                "type": "set_location_id_by_code",
                                "parameter": {
                                    "unspecifiedLocationCode": "void"
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "target": "callNumberPrefix",
                "description": "",
                "subfield": [
                    "k"
                ],
                "rules": []
            },
            {
                "target": "callNumber",
                "description": "",
                "subfield": [
                    "h",
                    "i"
                ],
                "rules": []
            },
            {
                "target": "callNumberSuffix",
                "description": "",
                "subfield": [
                    "m"
                ],
                "rules": []
            },
            {
                "target": "copyNumber",
                "description": "",
                "subfield": [
                    "t"
                ],
                "rules": []
            },
            {
                "target": "shelvingTitle",
                "description": "",
                "subfield": [
                    "l"
                ],
                "rules": []
            },
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": []
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "true"
                            }
                        ]
                    }
                ]
            },
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "z"
                        ],
                        "rules": []
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "subfield": [
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Note"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "false"
                            }
                        ]
                    }
                ]
            }
        ],
        "856": [
            {
                "entity": [
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_electronic_access_relations_id"
                                    }
                                ]
                            }
                        ],
                        "target": "electronicAccess.relationshipId",
                        "subfield": [
                            "3",
                            "y",
                            "u",
                            "z"
                        ],
                        "description": "Relationship between the electronic resource at the location identified and the item described in the record as a whole",
                        "applyRulesOnConcatenatedData": true
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "remove_ending_punc, trim"
                                    }
                                ]
                            }
                        ],
                        "target": "electronicAccess.uri",
                        "subfield": [
                            "u"
                        ],
                        "description": "URI"
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "remove_ending_punc, trim"
                                    }
                                ]
                            }
                        ],
                        "target": "electronicAccess.linkText",
                        "subfield": [
                            "y"
                        ],
                        "description": "Link text"
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "remove_ending_punc, trim"
                                    }
                                ]
                            }
                        ],
                        "target": "electronicAccess.materialsSpecification",
                        "subfield": [
                            "3"
                        ],
                        "description": "Materials Specified"
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "remove_ending_punc, trim"
                                    }
                                ]
                            }
                        ],
                        "target": "electronicAccess.publicNote",
                        "subfield": [
                            "z"
                        ],
                        "description": "URL public note"
                    }
                ]
            }
        ],
        "866": [
            {
                "entity": [
                    {
                        "target": "holdingsStatements.statement",
                        "description": "",
                        "subfield": [
                            "a"
                        ],
                        "rules": []
                    },
                    {
                        "target": "holdingsStatements.note",
                        "description": "",
                        "subfield": [
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "holdingsStatements.staffNote",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "867": [
            {
                "entity": [
                    {
                        "target": "holdingsStatementsForSupplements.statement",
                        "description": "",
                        "subfield": [
                            "a"
                        ],
                        "rules": []
                    },
                    {
                        "target": "holdingsStatementsForSupplements.note",
                        "description": "",
                        "subfield": [
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "holdingsStatements.staffNote",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "868": [
            {
                "entity": [
                    {
                        "target": "holdingsStatementsForIndexes.statement",
                        "description": "",
                        "subfield": [
                            "a"
                        ],
                        "rules": []
                    },
                    {
                        "target": "holdingsStatementsForIndexes.note",
                        "description": "",
                        "subfield": [
                            "z"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "holdingsStatements.staffNote",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "get_value_if_subfield_is_empty",
                                        "parameter": {
                                            "value": "-"
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ],
        "876": [
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "applyRulesOnConcatenatedData": true,
                        "description": "",
                        "subFieldDelimiter": [
                            {
                                "value": " | ",
                                "subfields": [
                                    "a",
                                    "b",
                                    "c",
                                    "d",
                                    "e",
                                    "h",
                                    "j",
                                    "l",
                                    "p",
                                    "r",
                                    "t",
                                    "z",
                                    "3"
                                ]
                            }
                        ],
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "h",
                            "j",
                            "l",
                            "p",
                            "r",
                            "t",
                            "z",
                            "3"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Bound with item data"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "h",
                            "j",
                            "l",
                            "p",
                            "r",
                            "t",
                            "z",
                            "3"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "false"
                            }
                        ]
                    }
                ]
            },
            {
                "entity": [
                    {
                        "target": "notes.note",
                        "description": "",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period, trim"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.holdingsNoteTypeId",
                        "description": "",
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Bound with item data"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "target": "notes.staffOnly",
                        "description": "If true, determines that the note should not be visible for others than staff",
                        "subfield": [
                            "x"
                        ],
                        "rules": [
                            {
                                "conditions": [],
                                "value": "true"
                            }
                        ]
                    }
                ]
            }
        ],
        "948": [
            {
                "entity": [
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "set_holding_note_type_id_by_name",
                                        "parameter": {
                                            "name": "Local Statistical Note"
                                        }
                                    }
                                ]
                            }
                        ],
                        "target": "notes.holdingsNoteTypeId",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "i",
                            "j",
                            "x"
                        ],
                        "description": "Instance note type id",
                        "applyRulesOnConcatenatedData": true
                    },
                    {
                        "rules": [
                            {
                                "conditions": [
                                    {
                                        "type": "trim_period"
                                    }
                                ]
                            }
                        ],
                        "target": "notes.note",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "i",
                            "j",
                            "x"
                        ],
                        "description": "Local Statistical Note",
                        "applyRulesOnConcatenatedData": true
                    },
                    {
                        "rules": [
                            {
                                "value": "true",
                                "conditions": []
                            }
                        ],
                        "target": "notes.staffOnly",
                        "subfield": [
                            "a",
                            "b",
                            "c",
                            "d",
                            "e",
                            "f",
                            "h",
                            "i",
                            "j",
                            "x"
                        ],
                        "description": "If true, determines that the note should not be visible for others than staff"
                    }
                ]
            }
        ]
    }
}
